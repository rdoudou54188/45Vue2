<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="vue2.6.10.js"></script>
     <style>
         /*#framework{margin: 0 auto}*/
     </style>
</head>
<body>



<div id="demo" style="width: 50%; height: 50%; padding: 10%">
    <!--<button  style=" height: 40px; background-color: black; border: 0px;color: white ">-</button>-->
    <!--<input type="text" style="width: 50px; height: 35px;margin: 0px -5px; font-size: 20px; " value="1">-->
    <!--<button style=" height: 40px;background-color: black; border: 0px;color: white ">+</button>-->
   <my-button></my-button>
</div>


<!--<script>-->
    <!--var MyCon ={-->
        <!--template:'<button>-</button><input type="text" value="1"><button >+</button>,'-->
    <!--}-->


    <!--new Vue({-->
         <!--el:"#framework",-->
        <!--components:{-->
          <!--'my-con':MyCon-->
        <!--},-->
         <!--data(){-->
             <!--return{}-->
         <!--},-->
    <!--})-->
<!--</script>-->

<script>
    var myButton={
        template: `<div>
                   <button @click="increase" style=" height: 40px; background-color: black; border: 0px;color: white ">-</button>
                   <input type="text" v-model="count" style="width: 50px; height: 35px;margin: 0px -5px; font-size: 20px; ">
                   <button @click="add" style=" height: 40px; background-color: black; border: 0px;color: white ">+</button>
                   </div>`,
        data(){
            return{
                count:0
            }
        },

        methods:{
            add(){
                this.count++;
            },
            increase(){
                if(this.count>=0) {
                    this.count--;
                }
            }
        },

        watch:{
            count() {
                if (this.count<0){
                    alert("数量为0不能再减")
                    this.count=0
                }



                var reg= new RegExp(/^\D\d|\d\D|\D$/);
                if(reg.test(this.count)){
                    alert('输入数据不合法');
                    this.count=0;
                }
            }
        }
    }

    new Vue({
        el:"#demo",
        components:{
            'my-button':myButton
        }
    })
</script>
</body>
</html>